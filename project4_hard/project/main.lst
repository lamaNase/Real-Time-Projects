MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00002 ;
                      00003 ;       Project 4
                      00004 ;
                      00005 ;       Lama Naser 1200190
                      00006 ;       Maha Mali 1200746
                      00007 ;       Sewar Abueid 1200043
                      00008 ;
                      00009 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00010 
                      00011         PROCESSOR 16F877
                      00012 ;       Clock = XT 4MHz, standard fuse settings
2007   3731           00013         __CONFIG 0x3731 ; 00011011100110001
                      00014 
                      00015 ;       LABEL EQUATES   ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00016         INCLUDE "P16F877A.INC"  
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F877A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2011 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00564         LIST
                      00017 
                      00018 
  00000030            00019 hund    EQU             30              ; hold 100 for division
  00000031            00020 Num1    EQU             31              ; First minimum reading
  00000032            00021 Num2    EQU             32              ; Second minimum reading
  00000033            00022 Num3    EQU             33              ; Third minimum reading
  00000034            00023 Num4    EQU             34              ; Fourth minimum reading
  00000035            00024 Temp    EQU             35              ; Temporary register
  00000036            00025 Blinks  EQU             36              ; Count of nuber of blinks
  00000037            00026 TempH   EQU             37              ; Timer 1 Hight bits
  00000038            00027 TempL   EQU             38              ; Timer 1 low bits
  00000039            00028 ten             EQU             39              ; hold 10 for division
  00000040            00029 counter EQU             40              ; counter register
  00000041            00030 resH            EQU             41              
  00000042            00031 resL            EQU             42      
  00000043            00032 sensor  EQU             43              ; current sensor
  00000044            00033 sensor1 EQU             44              ; first sensor number with higher reading
  00000045            00034 sensor2 EQU             45              ; second sensor number with higher reading
  00000046            00035 sensor3 EQU             46              ; third sensor number with higher reading
  00000047            00036 sensor4 EQU             47              ; fourth sensor number with higher reading
  00000048            00037 index   EQU             48              ; register to hold the ultrasonic number in a single decoder/mux
                      00038 
  00000001            00039 RS              EQU             1               ; Register select output bit
  00000002            00040 E               EQU             2               ; Display data strobe
                      00041 
                      00042 ; Program begins ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00043 
0000                  00044         ORG             0                       ; Default start address 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000   0000           00045         NOP                                     ; required for ICD mode
                      00046 
0001   1683 1303      00047         BANKSEL TRISD           ; Select bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0003   0188           00048         CLRF    TRISD           ; Display port is output for LCD
                      00049 
0004   1683 1303      00050         BANKSEL TRISC
                      00051         ; Enables pins configured as outputs
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   1007           00052         BCF TRISC, RC0          ; enable mux 1 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0007   1087           00053         BCF TRISC, RC1          ; enable mux 2 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   1107           00054         BCF TRISC, RC2          ; enable mux 3 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0009   1187           00055         BCF TRISC, RC3          ; enable decoder 1 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   1207           00056         BCF TRISC, RC4          ; enable decoder 2 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000B   1287           00057         BCF TRISC, RC5          ; enable decoder 3 as output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000C   1707           00058         BSF TRISC, RC6          ; Echo pin as input
                      00059         
000D   1683 1303      00060         BANKSEL TRISB           ; Select bank 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000F   1006           00061         BCF TRISB,RB0                   ; selection line A
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0010   1086           00062         BCF TRISB, RB1          ; selection line B
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0011   1106           00063         BCF TRISB, RB2          ; selection line C
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   1186           00064         BCF TRISB, RB3
                      00065  
0013   1283 1303      00066         BANKSEL PORTD           ; Select bank 0
0015   0188           00067         CLRF    PORTD           ; Clear display outputsC
                      00068 
0016   1283 1303      00069         BANKSEL PORTC
                      00070         ; initialize enables with disable mode
0018   1407           00071         BSF PORTC, RC0          ; enable mux 1
0019   1487           00072         BSF PORTC, RC1          ; enable mux 2
001A   1507           00073         BSF PORTC, RC2          ; enable mux 3
001B   1187           00074         BCF PORTC, RC3          ; enable decoder 1
001C   1207           00075         BCF PORTC, RC4          ; enable decoder 2
001D   1287           00076         BCF PORTC, RC5          ; enable decoder 3
                      00077 
                      00078         ; initalize 10 & 100 for divisions
001E   300A           00079         MOVLW D'10'
001F   00B9           00080         MOVWF ten
0020   3064           00081         MOVLW D'100'
0021   00B0           00082         MOVWF hund
                      00083 
0022   2823           00084         GOTO    start                   ; Jump to main program
                      00085 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00086 ; MAIN LOOP ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00087 
0023                  00088 start
0023   1283 1303      00089         BANKSEL PORTB
0025   3000           00090         MOVLW B'00000000'
0026   00C8           00091         MOVWF index
0027   0086           00092         MOVWF PORTB             ; set selections A, B and C to 000
                      00093 
0028   1283 1303      00094         BANKSEL PORTD
002A   211B           00095         CALL    inid                    ; Initialise the display
002B   3080           00096         MOVLW   0x80            ; position to home cursor
002C   10F4           00097         BCF     Select,RS                       ; Select command mode
002D   210B           00098         CALL    send                    ; and send code
Warning[211]: Extraneous arguments on the line.
002E   0103           00099         CLRW    Char                    ; ASCII = 0
                      00100 
                      00101         ; display a message that blinks three times
002F   2136           00102         CALL displayBlinks
                      00103 
0030                  00104 loop:
0030   3000           00105         MOVLW D'0'
0031   00C3           00106         MOVWF sensor            ; current sensor number
                      00107 
                      00108         ; initalize highest distances as zeros
0032   3000           00109         MOVLW D'0'
0033   00B1           00110         MOVWF Num1
0034   00B2           00111         MOVWF Num2
0035   00B3           00112         MOVWF Num3
0036   00B4           00113         MOVWF Num4
                      00114 
                      00115         ; make some delay
Warning[202]: Argument out of range.  Least significant bits used.
0037   3000           00116         MOVLW 10000
0038   2101           00117         CALL xms
                      00118 
0039   1283 1303      00119         BANKSEL PORTD
003B   21B2           00120         CALL clear
                      00121 
003C   1283 1303      00122         BANKSEL PORTC
003E   1007           00123         BCF PORTC, RC0          ; enable mux 1
003F   1487           00124         BSF PORTC, RC1          ; disable mux 2
0040   1507           00125         BSF PORTC, RC2          ; disable mux 3
                      00126         ; note that multiplexers' enables work active low
                      00127 
0041   1587           00128         BSF PORTC, RC3          ; enable decoder 1
0042   1207           00129         BCF PORTC, RC4          ; disable decoder 2
0043   1287           00130         BCF PORTC, RC5          ; disable decoder 3
                      00131         ; note that decoders' enables work active high
                      00132 
0044   205B           00133         CALL read_echo1         ; read first 8 ultrasonic sensors
                      00134 
0045   1283 1303      00135         BANKSEL PORTC
0047   1407           00136         BSF PORTC, RC0          ; disable mux 1
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0048   1087           00137         BCF PORTC, RC1          ; enable mux 2
0049   1507           00138         BSF PORTC, RC2          ; disable mux 3
                      00139 
004A   1187           00140         BCF PORTC, RC3          ; disable decoder 1
004B   1607           00141         BSF PORTC, RC4          ; enable decoder 2
004C   1287           00142         BCF PORTC, RC5          ; disable decoder 3
                      00143 
004D   2090           00144         CALL read_echo2
                      00145 
004E   1283 1303      00146         BANKSEL PORTC
0050   1407           00147         BSF PORTC, RC0          ; disable mux 1
0051   1487           00148         BSF PORTC, RC1          ; disable mux 2
0052   1107           00149         BCF PORTC, RC2          ; enable mux 3
                      00150 
0053   1187           00151         BCF PORTC, RC3          ; disable decoder 1
0054   1207           00152         BCF PORTC, RC4          ; disable decoder 2
0055   1687           00153         BSF PORTC, RC5          ; enable decoder 3
                      00154 
0056   20C5           00155         CALL read_echo3
                      00156 
                      00157         ; reseting for reading all ultrasonics again
0057   2183           00158         CALL print_reset
                      00159 
                      00160         ; make some delay before going to initial state
Warning[202]: Argument out of range.  Least significant bits used.
0058   3000           00161         MOVLW 5000
0059   2101           00162         CALL xms
                      00163 
005A   2830           00164         GOTO loop
                      00165 
                      00166 ; SUBROUTINES ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00167 
005B                  00168 read_echo1:
                      00169         ; This function sends pulse to trigger pin and read pulse from echo pin for the first 8 ultrason
                            ics
005B   1283 1303      00170         BANKSEL PORTB
005D   3000           00171         MOVLW B'00000000'
005E   00C8           00172         MOVWF index
005F   0086           00173         MOVWF PORTB             ; set selections A, B and C to 000
                      00174 
0060   1283 1303      00175         BANKSEL PORTD
0062   21B2           00176         CALL clear
                      00177 
0063                  00178 read_loop1:
                      00179 
                      00180         ; send pulse to trigger pin
0063   1283 1303      00181         BANKSEL PORTC
0065   1187           00182         BCF PORTC, RC3          ; disable decoder one
0066   21B8           00183         CALL delay_2us          ; wait 2 micro seconds
0067   1587           00184         BSF PORTC, RC3          ; enable decoder one
0068   21BB           00185         CALL delay_10us         ;wait 10 micro seconds
0069   1187           00186         BCF PORTC, RC3          ; disable decoder one
                      00187 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

006A                  00188 wait_echo_high1:
006A   1F07           00189         BTFSS PORTC, RC6
006B   286A           00190         GOTO wait_echo_high1
                      00191 
                      00192         ; Echo pulse is high, start timing
006C   1283 1303      00193         BANKSEL T1CON
006E   018F           00194         CLRF TMR1H
006F   018E           00195         CLRF TMR1L
0070   1410           00196         BSF T1CON, TMR1ON
                      00197 
0071   1283 1303      00198         BANKSEL PORTC
0073                  00199 wait_echo_low1:
0073   1B07           00200         BTFSC PORTC,RC6
0074   2873           00201          GOTO wait_echo_low1
                      00202         
                      00203         ; echo low, stop timer
0075   1283 1303      00204         BANKSEL T1CON
0077   1010           00205         BCF T1CON, TMR1ON
                      00206 
                      00207         ; convert time from micro second to second
                      00208         ; Right shift TMR1 by 20 bits (divide by 1,048,576 ˜ 1,000,000)
0078   3014           00209         MOVLW D'20'             ; Load loop counter with 20
0079   00B5           00210         MOVWF Temp                      ; Store loop counter in Temp or any working register
007A   2202           00211         CALL shift_right_nbits
                      00212 
                      00213         ; convert to distance
007B   221B           00214         CALL mul_1114
                      00215         ; Right shift TMR1 by 16 bits (divide by 65,536)
007C   3010           00216         MOVLW D'16'             ; Load loop counter with 16
007D   00B5           00217         MOVWF Temp                      ; Store loop counter in Temp or any working register
007E   2202           00218         CALL shift_right_nbits
                      00219 
007F   21C0           00220         CALL print_dist_highest
                      00221                 
Message[305]: Using default destination of 1 (file).
0080   0AC3           00222         INCF sensor                     ; go to the next sensor
                      00223 
0081   1283 1303      00224         BANKSEL PORTB           ; go to bank 0
Message[305]: Using default destination of 1 (file).
0083   0AC8           00225         INCF index                      ; go to the next ultrasonic
0084   0848           00226         MOVF index,W
0085   0086           00227         MOVWF PORTB     
                      00228 
                      00229         ; wait one second before going to the next sensor
0086   1283 1303      00230         BANKSEL PORTD
Warning[202]: Argument out of range.  Least significant bits used.
0088   3000           00231         MOVLW 6000
0089   2101           00232         CALL xms                        ; add 1 second delay
008A   21B2           00233         CALL clear                      ; clear the display for the next reading
                      00234 
008B   1283 1303      00235         BANKSEL PORTB
008D   1D86           00236         BTFSS PORTB, RB3                ; test if we reached the 111
008E   2863           00237         GOTO read_loop1
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

008F   0008           00238         RETURN                          ; go to the next 8 ultrasonics
                      00239 
0090                  00240 read_echo2:
0090   1283 1303      00241         BANKSEL PORTB
0092   3000           00242         MOVLW B'00000000'
0093   00C8           00243         MOVWF index
0094   1283 1303      00244         BANKSEL PORTB
0096   0086           00245         MOVWF PORTB             ; set selections A, B and C to 000
                      00246 
0097   1283 1303      00247         BANKSEL PORTD
0099   21B2           00248         CALL clear
                      00249 
009A                  00250 read_loop2:
                      00251 
009A   1283 1303      00252         BANKSEL PORTC
009C   1207           00253         BCF PORTC, RC4          ; disable decoder two
009D   21B8           00254         CALL delay_2us          ; wait 2 micro seconds
009E   1607           00255         BSF PORTC, RC4          ; enable decoder two
009F   21BB           00256         CALL delay_10us         ;wait 10 micro seconds
00A0   1207           00257         BCF PORTC, RC4          ; disable decoder two
                      00258 
00A1                  00259 wait_echo_high2:
00A1   1F07           00260         BTFSS PORTC, RC6
00A2   28A1           00261         GOTO wait_echo_high2
                      00262 
                      00263         ; Echo pulse is high, start timing
00A3   1283 1303      00264         BANKSEL T1CON
00A5   018F           00265         CLRF TMR1H
00A6   018E           00266         CLRF TMR1L
00A7   1410           00267         BSF T1CON, TMR1ON
                      00268 
00A8   1283 1303      00269         BANKSEL PORTC
00AA                  00270 wait_echo_low2:
00AA   1B07           00271         BTFSC PORTC,RC6
00AB   28AA           00272          GOTO wait_echo_low2
                      00273         
                      00274         ; echo low, stop timer
00AC   1283 1303      00275         BANKSEL T1CON
00AE   1010           00276         BCF T1CON, TMR1ON
                      00277 
                      00278         ; convert time from micro second to second
                      00279         ; Right shift TMR1 by 20 bits (divide by 1,048,576 ˜ 1,000,000)
00AF   3014           00280         MOVLW D'20'             ; Load loop counter with 20
00B0   00B5           00281         MOVWF Temp                      ; Store loop counter in Temp or any working register
00B1   2202           00282         CALL shift_right_nbits
                      00283 
                      00284         ; convert to distance
00B2   221B           00285         CALL mul_1114
                      00286         ; Right shift TMR1 by 16 bits (divide by 65,536)
00B3   3010           00287         MOVLW D'16'             ; Load loop counter with 16
00B4   00B5           00288         MOVWF Temp                      ; Store loop counter in Temp or any working register
00B5   2202           00289         CALL shift_right_nbits
                      00290 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00B6   21C0           00291         CALL print_dist_highest
                      00292                 
Message[305]: Using default destination of 1 (file).
00B7   0AC3           00293         INCF sensor                     ; go to the next sensor
                      00294 
00B8   1283 1303      00295         BANKSEL PORTB           ; go to bank 0
Message[305]: Using default destination of 1 (file).
00BA   0AC8           00296         INCF index                      ; go to the next ultrasonic
00BB   0848           00297         MOVF index,W
00BC   0086           00298         MOVWF PORTB     
                      00299 
                      00300         ; wait one second before going to the next sensor
00BD   1283 1303      00301         BANKSEL PORTD
Warning[202]: Argument out of range.  Least significant bits used.
00BF   3000           00302         MOVLW 6000
00C0   2101           00303         CALL xms
00C1   21B2           00304         CALL clear                      ; clear the display for the next reading
                      00305 
00C2   1D86           00306         BTFSS PORTB, RB3                ; test if we reached the 111
00C3   289A           00307         GOTO read_loop2
00C4   0008           00308         RETURN
                      00309 
00C5                  00310 read_echo3:
00C5   1283 1303      00311         BANKSEL PORTB
00C7   3000           00312         MOVLW B'00000000'
00C8   00C8           00313         MOVWF index
00C9   1283 1303      00314         BANKSEL PORTB
00CB   0086           00315         MOVWF PORTB             ; set selections A, B and C to 000
                      00316 
00CC   1283 1303      00317         BANKSEL PORTD
00CE   21B2           00318         CALL clear
                      00319 
00CF                  00320 read_loop3:
                      00321 
00CF   1283 1303      00322         BANKSEL PORTC
00D1   1287           00323         BCF PORTC, RC5          ; disable decoder three
00D2   21B8           00324         CALL delay_2us          ; wait 2 micro seconds
00D3   1687           00325         BSF PORTC, RC5          ; enable decoder three
00D4   21BB           00326         CALL delay_10us         ;wait 10 micro seconds
00D5   1287           00327         BCF PORTC, RC5          ; disable decoder three
                      00328 
00D6                  00329 wait_echo_high3:
00D6   1F07           00330         BTFSS PORTC, RC6
00D7   28D6           00331         GOTO wait_echo_high3
                      00332 
                      00333         ; Echo pulse is high, start timing
00D8   1283 1303      00334         BANKSEL T1CON
00DA   018F           00335         CLRF TMR1H
00DB   018E           00336         CLRF TMR1L
00DC   1410           00337         BSF T1CON, TMR1ON
                      00338 
00DD   1283 1303      00339         BANKSEL PORTC
00DF                  00340 wait_echo_low3:
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00DF   1B07           00341         BTFSC PORTC,RC6
00E0   28DF           00342          GOTO wait_echo_low3
                      00343         
                      00344         ; echo low, stop timer
00E1   1283 1303      00345         BANKSEL T1CON
00E3   1010           00346         BCF T1CON, TMR1ON
                      00347 
                      00348         ; convert time from micro second to second
                      00349         ; Right shift TMR1 by 20 bits (divide by 1,048,576 ˜ 1,000,000)
00E4   3014           00350         MOVLW D'20'             ; Load loop counter with 20
00E5   00B5           00351         MOVWF Temp                      ; Store loop counter in Temp or any working register
00E6   2202           00352         CALL shift_right_nbits
                      00353 
                      00354         ; convert to distance
00E7   221B           00355         CALL mul_1114
                      00356         ; Right shift TMR1 by 16 bits (divide by 65,536)
00E8   3010           00357         MOVLW D'16'             ; Load loop counter with 16
00E9   00B5           00358         MOVWF Temp                      ; Store loop counter in Temp or any working register
00EA   2202           00359         CALL shift_right_nbits
00EB   224D           00360         CALL check_valid_range
                      00361 
00EC   21C0           00362         CALL print_dist_highest
                      00363                 
Message[305]: Using default destination of 1 (file).
00ED   0AC3           00364         INCF sensor                     ; go to the next sensor
                      00365 
00EE   1283 1303      00366         BANKSEL PORTB           ; go to bank 0
Message[305]: Using default destination of 1 (file).
00F0   0AC8           00367         INCF index                      ; go to the next ultrasonic
00F1   0848           00368         MOVF index,W
00F2   0086           00369         MOVWF PORTB     
                      00370 
                      00371         ; wait one second before going to the next sensor
00F3   1283 1303      00372         BANKSEL PORTD
Warning[202]: Argument out of range.  Least significant bits used.
00F5   3000           00373         MOVLW 6000
00F6   2101           00374         CALL xms
00F7   21B2           00375         CALL clear                      ; clear the display for the next reading
                      00376 
00F8   1D86           00377         BTFSS PORTB, RB3                ; test if we reached the 111
00F9   28CF           00378         GOTO read_loop3
00FA   0008           00379         RETURN
                      00380 
                      00381 ; Include LCD driver routine    
                      00382         INCLUDE "LCDIS.INC"
                      00001 ;--------------------------------------------------------------
                      00002 ;       LCDIS.INC               MPB     19-12-05
                      00003 ;
                      00004 ;       Include file to operate 16x2 LCD display
                      00005 ;       Uses GPR 70 - 75
                      00006 ;       
                      00007 ;       Final version
                      00008 ;--------------------------------------------------------------
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00009 
  00000070            00010 Timer1  EQU     70              ; 1ms count register
  00000071            00011 TimerX  EQU     71              ; Xms count register
  00000072            00012 Var     EQU     72              ; Output variable
  00000073            00013 Point   EQU     73              ; Program table pointer
  00000074            00014 Select  EQU     74              ; Used to set or clear RS bit
  00000075            00015 OutCod  EQU     75              ; Temp store for output code
                      00016 
  00000001            00017 RS      EQU     1               ; Register select output bit
  00000002            00018 E       EQU     2               ; Enable display input
                      00019 
                      00020 
                      00021 ;--------------------------------------------------------------
                      00022 ;       1ms delay with 1us cycle time (1000 cycles)
                      00023 ;--------------------------------------------------------------
00FB   30F9           00024 onems   MOVLW   D'249'          ; Count for 1ms delay 
00FC   00F0           00025         MOVWF   Timer1          ; Load count
00FD   0000           00026 loop1   NOP                     ; Pad for 4 cycle loop
Message[305]: Using default destination of 1 (file).
00FE   0BF0           00027         DECFSZ  Timer1          ; Count
00FF   28FD           00028         GOTO    loop1           ; until Z
0100   0008           00029         RETURN                  ; and finish
                      00030 
                      00031 ;--------------------------------------------------------------
                      00032 ;       Delay Xms
                      00033 ;       Receives count in W, uses Onems
                      00034 ;--------------------------------------------------------------
0101   00F1           00035 xms     MOVWF   TimerX          ; Count for X ms
0102   20FB           00036 loopX   CALL    onems           ; Delay 1ms
Message[305]: Using default destination of 1 (file).
0103   0BF1           00037         DECFSZ  TimerX          ; Repeat X times 
0104   2902           00038         GOTO    loopX           ; until Z
0105   0008           00039         RETURN                  ; and finish
                      00040 
                      00041 ;--------------------------------------------------------------
                      00042 ;       Generate data/command clock siganl E
                      00043 ;--------------------------------------------------------------
0106   1508           00044 pulseE  BSF     PORTD,E         ; Set E high
0107   20FB           00045         CALL    onems           ; Delay 1ms
0108   1108           00046         BCF     PORTD,E         ; Reset E low
0109   20FB           00047         CALL    onems           ; Delay 1ms
010A   0008           00048         RETURN                  ; done
                      00049 
                      00050 ;--------------------------------------------------------------
                      00051 ;       Send a command byte in two nibbles from RB4 - RB7
                      00052 ;       Receives command in W, uses PulseE and Onems
                      00053 ;--------------------------------------------------------------
010B   00F5           00054 send    MOVWF   OutCod          ; Store output code
010C   39F0           00055         ANDLW   0F0             ; Clear low nybble
010D   0088           00056         MOVWF   PORTD           ; Output high nybble
010E   18F4           00057         BTFSC   Select,RS       ; Test RS bit
010F   1488           00058         BSF     PORTD,RS        ; and set for data
0110   2106           00059         CALL    pulseE          ; and clock display register
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0111   20FB           00060         CALL    onems           ; wait 1ms for display
                      00061 
Message[305]: Using default destination of 1 (file).
0112   0EF5           00062         SWAPF   OutCod          ; Swap low and high nybbles 
0113   0875           00063         MOVF    OutCod,W        ; Retrieve output code
0114   39F0           00064         ANDLW   0F0             ; Clear low nybble
0115   0088           00065         MOVWF   PORTD           ; Output low nybble
0116   18F4           00066         BTFSC   Select,RS       ; Test RS bit
0117   1488           00067         BSF     PORTD,RS        ; and set for data
0118   2106           00068         CALL    pulseE          ; and clock display register
0119   20FB           00069         CALL    onems           ; wait 1ms for display
011A   0008           00070         RETURN                  ; done
                      00071 
                      00072 ;--------------------------------------------------------------
                      00073 ;       Initialise the display
                      00074 ;       Uses Send
                      00075 ;--------------------------------------------------------------
011B   3064           00076 inid    MOVLW   D'100'          ; Load count for 100ms delay
011C   2101           00077         CALL    xms             ; and wait for display start
011D   30F0           00078         MOVLW   0F0             ; Mask for select code
011E   00F4           00079         MOVWF   Select          ; High nybble not masked
                      00080 
011F   3030           00081         MOVLW   0x30            ; Load initial nibble
0120   0088           00082         MOVWF   PORTD           ; and output it to display
0121   2106           00083         CALL    pulseE          ; Latch initial code
0122   3005           00084         MOVLW   D'5'            ; Set delay 5ms
0123   2101           00085         CALL    xms             ; and wait
0124   2106           00086         CALL    pulseE          ; Latch initial code again
0125   20FB           00087         CALL    onems           ; Wait 1ms
0126   2106           00088         CALL    pulseE          ; Latch initial code again
0127   1208           00089         BCF     PORTD,4         ; Set 4-bit mode
0128   2106           00090         CALL    pulseE          ; Latch it
                      00091         
0129   3028           00092         MOVLW   0x28            ; Set 4-bit mode, 2 lines
012A   210B           00093         CALL    send            ; and send code
012B   3008           00094         MOVLW   0x08            ; Switch off display
012C   210B           00095         CALL    send            ; and send code
012D   3001           00096         MOVLW   0x01            ; Code to clear display
012E   210B           00097         CALL    send            ; and send code
012F   3006           00098         MOVLW   0x06            ; Enable cursor auto inc  
0130   210B           00099         CALL    send            ; and send code
0131   3080           00100         MOVLW   0x80            ; Zero display address
0132   210B           00101         CALL    send            ; and send code
0133   300C           00102         MOVLW   0x0C            ; Turn on display  
0134   210B           00103         CALL    send            ; and send code
                      00104 
0135   0008           00105         RETURN                  ; Done
                      00106 
                      00107 ;--------------------------------------------------------------
                      00383         
0136                  00384 displayBlinks:
0136   1283 1303      00385         BANKSEL PORTD
0138   3003           00386         MOVLW   D'3'            ; Load the W register with the value 3
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0139   00B6           00387         MOVWF Blinks            ; Store the value in the Blinks register
                      00388 
013A                  00389 loop_blink
                      00390         ; Display 'Welcome to' on first row
013A   14F4           00391         BSF Select, RS                  ; Select command mode
013B   3057           00392         movlw 'W'                       ; move letter 'W' to register w
013C   210B           00393         call send                               ; and send code
                      00394         
013D   14F4           00395         BSF Select, RS                  ; Select command mode
013E   3065           00396         movlw 'e'                               ; move letter 'e' to register w
013F   210B           00397         call send                               ; and send code
                      00398         
0140   14F4           00399         BSF Select, RS                  ; Select command mode
0141   306C           00400         movlw 'l'                               ; move letter 'l' to register w
0142   210B           00401         call send                               ; and send code
                      00402         
0143   14F4           00403         BSF Select, RS                  ; Select command mode
0144   3063           00404         movlw 'c'                               ; move letter 'c' to register w
0145   210B           00405         call send                               ; and send code
                      00406         
0146   14F4           00407         BSF Select, RS                  ; Select command mode
0147   306D           00408         movlw 'm'                       ; move letter 'm' to register w
0148   210B           00409         call send                               ; and send code
                      00410         
0149   14F4           00411         BSF Select, RS                  ; Select command mode
014A   3065           00412         movlw 'e'                               ; move letter 'e' to register w
014B   210B           00413         call send                               ; and send code
                      00414         
014C   14F4           00415         BSF Select, RS                  ; Select command mode
014D   3020           00416         movlw ' '                               ; move letter space to register w
014E   210B           00417         call send                               ; and send code
                      00418 
014F   14F4           00419         BSF Select, RS                  ; Select command mode
0150   3074           00420         movlw 't'                               ; move letter 't' to register w
0151   210B           00421         call send                               ; and send code
                      00422 
0152   14F4           00423         BSF Select, RS                  ; Select command mode
0153   306F           00424         movlw 'o'                               ; move letter 'o' to register w
0154   210B           00425         call send                               ; and send code
                      00426 
                      00427         ; Display 'SFR04 Modules' on second row
0155   30C0           00428         MOVLW   0xC0            ; position to second row
0156   10F4           00429         BCF     Select,RS                       ; Select command mode
0157   210B           00430         CALL    send                    ; and send code
                      00431         
0158   14F4           00432         BSF Select, RS                  ; Select command mode
0159   3053           00433         movlw 'S'                               ; move letter 'S' to register w
015A   210B           00434         call send                               ; and send code
                      00435 
015B   14F4           00436         BSF Select, RS                  ; Select command mode
015C   3046           00437         movlw 'F'                               ; move letter 'F' to register w
015D   210B           00438         call send                               ; and send code
                      00439 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015E   14F4           00440         BSF Select, RS                  ; Select command mode
015F   3052           00441         movlw 'R'                               ; move letter 'R' to register w
0160   210B           00442         call send                               ; and send code 
                      00443 
0161   14F4           00444         BSF Select, RS                  ; Select command mode
0162   3030           00445         movlw '0'                               ; move letter '0' to register w
0163   210B           00446         call send                               ; and send code
                      00447 
0164   14F4           00448         BSF Select, RS                  ; Select command mode
0165   3034           00449         movlw '4'                               ; move letter '4' to register w
0166   210B           00450         call send                               ; and send code
                      00451 
0167   14F4           00452         BSF Select, RS                  ; Select command mode
0168   3020           00453         movlw ' '                               ; move letter space to register w
0169   210B           00454         call send                               ; and send code
                      00455 
016A   14F4           00456         BSF Select, RS                  ; Select command mode
016B   304D           00457         movlw 'M'                       ; move letter '0' to register w
016C   210B           00458         call send                               ; and send code
                      00459 
016D   14F4           00460         BSF Select, RS                  ; Select command mode
016E   306F           00461         movlw 'o'                               ; move letter 'o' to register w
016F   210B           00462         call send                               ; and send code
                      00463 
0170   14F4           00464         BSF Select, RS                  ; Select command mode
0171   3064           00465         movlw 'd'                               ; move letter 'd' to register w
0172   210B           00466         call send                               ; and send code
                      00467 
0173   14F4           00468         BSF Select, RS                  ; Select command mode
0174   3075           00469         movlw 'u'                               ; move letter 'u' to register w
0175   210B           00470         call send                               ; and send code
                      00471 
0176   14F4           00472         BSF Select, RS                  ; Select command mode
0177   306C           00473         movlw 'l'                               ; move letter 'l' to register w
0178   210B           00474         call send                               ; and send code
                      00475 
0179   14F4           00476         BSF Select, RS                  ; Select command mode
017A   3073           00477         movlw 's'                               ; move letter 's' to register w
017B   210B           00478         call send                               ; and send code
                      00479         
                      00480         ; Delay with 0.5 second = 500ms
Warning[202]: Argument out of range.  Least significant bits used.
017C   3000           00481         MOVLW 500                       ; move 500 to register w
017D   2101           00482         CALL xms                        ; call xms delay function from LCD include file
017E   21B2           00483         CALL clear                      ; clear the display
017F   2101           00484         CALL xms                        ; delay for 0.5 second
0180   0BB6           00485         DECFSZ Blinks,F                 ;Decrement W and skip the next instruction if zero              
0181   293A           00486         GOTO loop_blink
0182   0008           00487         RETURN
                      00488         
                      00489 ; Restart ................................................
0183                  00490 print_reset:
0183   1283 1303      00491         BANKSEL PORTD
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0185   21B2           00492         CALL clear
                      00493 
                      00494         ; PRINT 'Restting...' on the first line
0186   14F4           00495         BSF Select, RS                  ; Select command mode
0187   3052           00496         movlw 'R'                               ; move letter 'd' to register w
0188   210B           00497         call send                               ; and send code
                      00498 
0189   14F4           00499         BSF Select, RS                  ; Select command mode
018A   3065           00500         movlw 'e'                               ; move letter 'd' to register w
018B   210B           00501         call send                               ; and send code
                      00502 
018C   14F4           00503         BSF Select, RS                  ; Select command mode
018D   3073           00504         movlw 's'                               ; move letter 'd' to register w
018E   210B           00505         call send                               ; and send code
                      00506 
018F   14F4           00507         BSF Select, RS                  ; Select command mode
0190   3074           00508         movlw 't'                               ; move letter 'd' to register w
0191   210B           00509         call send                               ; and send code
                      00510 
0192   14F4           00511         BSF Select, RS                  ; Select command mode
0193   3074           00512         movlw 't'                               ; move letter 'd' to register w
0194   210B           00513         call send                               ; and send code
                      00514 
0195   14F4           00515         BSF Select, RS                  ; Select command mode
0196   3069           00516         movlw 'i'                               ; move letter 'd' to register w
0197   210B           00517         call send                               ; and send code
                      00518 
0198   14F4           00519         BSF Select, RS                  ; Select command mode
0199   306E           00520         movlw 'n'                               ; move letter 'd' to register w
019A   210B           00521         call send                               ; and send code
                      00522 
019B   14F4           00523         BSF Select, RS                  ; Select command mode
019C   3067           00524         movlw 'g'                               ; move letter 'd' to register w
019D   210B           00525         call send                               ; and send code
                      00526 
019E   14F4           00527         BSF Select, RS                  ; Select command mode
019F   302E           00528         movlw '.'                               ; move letter 'd' to register w
01A0   210B           00529         call send                               ; and send code
                      00530 
01A1   14F4           00531         BSF Select, RS                  ; Select command mode
01A2   302E           00532         movlw '.'                               ; move letter 'd' to register w
01A3   210B           00533         call send                               ; and send code
                      00534 
01A4   14F4           00535         BSF Select, RS                  ; Select command mode
01A5   302E           00536         movlw '.'                               ; move letter 'd' to register w
01A6   210B           00537         call send                               ; and send code
                      00538 
                      00539         ; Delay with 5 seconds = 5000ms
Warning[202]: Argument out of range.  Least significant bits used.
01A7   3000           00540         MOVLW 5000              ; move 500 to register w
01A8   2101           00541         CALL xms                        ; call xms delay function from LCD includ
                      00542         
01A9   0000           00543         NOP
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01AA   0000           00544         NOP
                      00545         ; make some delay before going to initial state
Warning[202]: Argument out of range.  Least significant bits used.
01AB   3000           00546         MOVLW 5000
01AC   2101           00547         CALL xms
                      00548 
01AD   0000           00549         NOP
01AE   0000           00550         NOP
                      00551 
                      00552         ; make some delay before going to initial state
Warning[202]: Argument out of range.  Least significant bits used.
01AF   3000           00553         MOVLW 5000
01B0   2101           00554         CALL xms
                      00555 
01B1   0008           00556         RETURN
01B2                  00557 clear:
01B2   1283 1303      00558         BANKSEL PORTD
01B4   3001           00559         MOVLW   01                      ; code to clear display
01B5   10F4           00560         BCF     Select,RS                       ; Select data mode
01B6   210B           00561         CALL    send                    ; and send code 
01B7   0008           00562         RETURN
                      00563 
01B8                  00564 delay_2us:
01B8   0000           00565         NOP
01B9   0000           00566         NOP
01BA   0008           00567         RETURN
                      00568 
                      00569 ; Delay subroutine for 10 microseconds
01BB                  00570 delay_10us:
                      00571          ; With a 4MHz clock, each instruction cycle is 1 microsecond
01BB   3010           00572          movlw 10                               ; Load W with 10
01BC                  00573 Delay_10us_loop:
01BC   0000           00574          NOP                                            ; 1 cycle
01BD   0B80           00575          DECFSZ W, F                            ; Decrement WREG and skip if zero
01BE   29BC           00576          goto Delay_10us_loop           ; Repeat 10 times
01BF   0008           00577          return
                      00578 
01C0                  00579 print_dist_highest:
                      00580         ; check if current distance is higher than the highest one, then check the second, then third th
                            en fourth
01C0   2258           00581         CALL check_highest
01C1   2294           00582         CALL print_distances
01C2   0008           00583         RETURN
                      00584 
01C3                  00585 print_ones:
                      00586 ; This function prints the ones digit of the number stored in Temp
01C3                  00587 DIV_LOOP_ONES:
01C3   0839           00588         MOVF ten,W
01C4   0235           00589         SUBWF Temp,W
01C5   1903           00590         BTFSC STATUS, Z
01C6   29EF           00591         GOTO print_zero
01C7   0839           00592         MOVF ten,W
01C8   0235           00593         SUBWF Temp,W
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C9   1C03           00594         BTFSS   STATUS, C
01CA   29D2           00595         GOTO stop_ones
01CB   00B5           00596         MOVWF Temp
01CC   0239           00597         SUBWF ten,W
01CD   1903           00598         BTFSC STATUS, Z
01CE   29EF           00599         GOTO print_zero
01CF   1803           00600         BTFSC  STATUS, C
01D0   29D2           00601         GOTO stop_ones
01D1   29C3           00602         GOTO DIV_LOOP_ONES
                      00603 
01D2                  00604 stop_ones:
01D2   0835           00605         MOVF Temp,W
01D3   3E30           00606         ADDLW D'48'
01D4   14F4           00607         BSF Select, RS
                      00608         ;MOVLW D'48'
01D5   210B           00609         CALL send
01D6   0008           00610         RETURN
                      00611 
01D7                  00612 print_tens:
                      00613 ; This function prints the tens digit from the number stored in Temp
01D7   3000           00614         MOVLW D'0'
01D8   00C0           00615         MOVWF counter
01D9                  00616 DIV_LOOP_TENS:
01D9   0839           00617         MOVF ten,W
01DA   0235           00618         SUBWF Temp,W
01DB   1D03           00619         BTFSS STATUS, Z                 ; if the number is 10
01DC   29DF           00620         GOTO continue
Message[305]: Using default destination of 1 (file).
01DD   0AC0           00621         INCF counter
01DE   29E9           00622         GOTO stop_tens
01DF                  00623 continue:
01DF   0839           00624         MOVF ten,W
01E0   0235           00625         SUBWF Temp,W
01E1   1C03           00626         BTFSS   STATUS, C
01E2   29EF           00627         GOTO print_zero
Message[305]: Using default destination of 1 (file).
01E3   0AC0           00628         INCF counter
01E4   00B5           00629         MOVWF Temp
01E5   0239           00630         SUBWF ten,W
01E6   1803           00631         BTFSC   STATUS, C
01E7   29E9           00632         GOTO stop_tens
01E8   29D9           00633         GOTO DIV_LOOP_TENS
                      00634 
01E9                  00635 stop_tens:
01E9   0840           00636         MOVF counter,W
01EA   00B5           00637         MOVWF Temp
01EB   300A           00638         MOVLW D'10'
01EC   00B9           00639         MOVWF ten
01ED   21C3           00640         CALL print_ones
01EE   0008           00641         RETURN
                      00642 
01EF                  00643 print_zero:
01EF   14F4           00644         BSF Select, RS
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F0   3030           00645         MOVLW D'48'
01F1   210B           00646         CALL send
01F2   0008           00647         RETURN
                      00648 
01F3                  00649 print_hunds:
                      00650 ; This function prints the hundred's digit from the number stored in Temp
01F3   3000           00651         MOVLW D'0'
01F4   00C0           00652         MOVWF counter
01F5                  00653 DIV_LOOP_HUNDS:
01F5   0830           00654         MOVF hund,W
01F6   0235           00655         SUBWF Temp,W
01F7   00B5           00656         MOVWF Temp
Message[305]: Using default destination of 1 (file).
01F8   0AC0           00657         INCF counter
01F9   0230           00658         SUBWF hund,W
01FA   1803           00659         BTFSC   STATUS, C
01FB   29FD           00660         GOTO stop_hunds
01FC   29F5           00661         GOTO DIV_LOOP_HUNDS
01FD                  00662 stop_hunds:
01FD   0840           00663         MOVF counter,W
01FE   3E30           00664         ADDLW D'48'
01FF   14F4           00665         BSF Select, RS
                      00666         ;MOVLW D'48'
0200   210B           00667         CALL send
0201   0008           00668         RETURN
                      00669 
0202                  00670 shift_right_nbits:
0202   3016           00671         MOVLW 16
0203   0235           00672         SUBWF Temp, W
0204   1803           00673         BTFSC STATUS, C
0205   2A0B           00674         GOTO more_than_16_shifts                        ; If greater, handle it separately
0206                  00675 shift_right_loop:
0206   0C8E           00676          RRF TMR1L, F                                            ; Rotate right through carry TMR1L
0207   0C8F           00677          RRF TMR1H, F                                            ; Rotate right through carry TMR1H
0208   0BB5           00678          DECFSZ Temp, F                                         ; Decrement loop counter and skip if zer
                            o
0209   2A06           00679          GOTO shift_right_loop                          ; Repeat loop if not zero
020A   0008           00680          RETURN
                      00681 
020B                  00682 more_than_16_shifts:
020B   018E           00683         CLRF TMR1L                                               ; Clear TMR1L since it will be complete
                            ly shifted out
020C   3004           00684         MOVLW 4                                                  ; Load W register with 20 - 16 = 4
020D   00B5           00685         MOVWF Temp                                              ; Move it to Temp
020E                  00686 shift_right_loop_after_16:
020E   0C8F           00687         RRF TMR1H, F                                            ; Rotate right through carry TMR1H
020F   0BB5           00688         DECFSZ Temp, F                                          ; Decrement loop counter and skip if zer
                            o
0210   2A0E           00689         GOTO shift_right_loop_after_16                  ; Repeat loop if not zero
0211   0008           00690         RETURN
                      00691 
0212                  00692 shift_left_nbits:
0212   080F           00693         MOVF TMR1H,W
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0213   00B7           00694         MOVWF TempH
0214   080E           00695         MOVF TMR1L,W
0215   00B8           00696         MOVWF TempL
0216                  00697 shift_left_loop:
0216   0DB8           00698         RLF TempL, F                            ; Rotate left through carry TMR1L
0217   0DB7           00699         RLF TempH, F                            ; Rotate left through carry TMR1H
0218   0BB5           00700         DECFSZ Temp, F                          ; Decrement loop counter and skip if zero
0219   2A16           00701         GOTO shift_left_loop            ; Repeat loop if not zero
021A   0008           00702         RETURN
                      00703 
021B                  00704 mul_1114:
                      00705 ; 1114 = (1024 + 64 + 16 + 8 + 2) so do left shift for (10b, 6b, 4b, 3b and 1b) and accomulate them
021B   01C1           00706         CLRF resH
021C   01C2           00707         CLRF resL
                      00708 
021D   300A           00709         MOVLW D'10'
021E   00B5           00710         MOVWF Temp
021F   2212           00711         CALL shift_left_nbits
0220   0837           00712         MOVF TempH,W
0221   07C1           00713         ADDWF resH,F
0222   0838           00714         MOVF TempL,W
Message[305]: Using default destination of 1 (file).
0223   07C2           00715         ADDWF resL
                      00716 
0224   3006           00717         MOVLW D'6'
0225   00B5           00718         MOVWF Temp
0226   2212           00719         CALL shift_left_nbits
0227   0841           00720         MOVF resH,W
0228   0737           00721         ADDWF TempH,W
0229   00C1           00722         MOVWF resH
022A   0842           00723         MOVF resL,W
022B   0738           00724         ADDWF TempL,W
022C   00C2           00725         MOVWF resL
                      00726 
022D   3004           00727         MOVLW D'4'
022E   00B5           00728         MOVWF Temp
022F   2212           00729         CALL shift_left_nbits
0230   0841           00730         MOVF resH,W
Message[305]: Using default destination of 1 (file).
0231   07B7           00731         ADDWF TempH
0232   00C1           00732         MOVWF resH
0233   0842           00733         MOVF resL,W
0234   0738           00734         ADDWF TempL,W
0235   00C2           00735         MOVWF resL
                      00736 
0236   3003           00737         MOVLW D'3'
0237   00B5           00738         MOVWF Temp
0238   2212           00739         CALL shift_left_nbits
0239   0841           00740         MOVF resH,W
Message[305]: Using default destination of 1 (file).
023A   07B7           00741         ADDWF TempH
023B   00C1           00742         MOVWF resH
023C   0842           00743         MOVF resL,W
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

023D   0738           00744         ADDWF TempL,W
023E   00C2           00745         MOVWF resL
                      00746 
023F   3001           00747         MOVLW D'1'
0240   00B5           00748         MOVWF Temp
0241   2212           00749         CALL shift_left_nbits
0242   0841           00750         MOVF resH,W
Message[305]: Using default destination of 1 (file).
0243   07B7           00751         ADDWF TempH
0244   00C1           00752         MOVWF resH
0245   0842           00753         MOVF resL,W
0246   0738           00754         ADDWF TempL,W
0247   00C2           00755         MOVWF resL
                      00756 
                      00757         ; move resH to TMR1H, resL to TMR1L
0248   0841           00758         MOVF resH,W
0249   008E           00759         MOVWF TMR1L
024A   0841           00760         MOVF resH,W
024B   008F           00761         MOVWF TMR1H
024C   0008           00762         RETURN
                      00763 
024D                  00764 check_valid_range:
024D   3002           00765         MOVLW 2
024E   020E           00766         SUBWF TMR1L, W
024F   1803           00767         BTFSC STATUS, C
0250   2A52           00768         GOTO check_400
0251   018E           00769         CLRF TMR1L
0252                  00770 check_400:
Warning[202]: Argument out of range.  Least significant bits used.
0252   3000           00771         MOVLW 400
0253   020E           00772         SUBWF TMR1L, W
0254   1C03           00773         BTFSS STATUS, C
0255   0008           00774         RETURN
0256   3000           00775         MOVLW D'0'
0257   018E           00776         CLRF TMR1L
                      00777 
0258                  00778 check_highest:
0258   0831           00779         MOVF Num1, W
0259   020E           00780         SUBWF TMR1L,W
025A   1C03           00781         BTFSS   STATUS, C                       ; skip if current distance is larger
025B   2A6D           00782         GOTO check_second               ; if it is less than the highest, check with the second
                      00783         
                      00784         ; TMR1 is greater then, do shift
                      00785         ; first, shift third number to fourth number
025C   0833           00786         MOVF Num3, W                    ; move third number to register W
025D   00B4           00787         MOVWF Num4                      ; move third number to fourth number
                      00788 
025E   0846           00789         MOVF sensor3, W
025F   00C7           00790         MOVWF sensor4                   ; move senosr number with third highest to fourth highest
                      00791 
                      00792         ; second, shift second number to third number
0260   0832           00793         MOVF Num2, W                    ; move second number to register W
0261   00B3           00794         MOVWF Num3                      ; move decond number to third number
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00795 
0262   0845           00796         MOVF sensor2, W
0263   00C6           00797         MOVWF sensor3                   ; move senosr number with decond highest to third highest
                      00798 
                      00799         ; third, shift first value to second
0264   0831           00800         MOVF Num1, W                    ; move first highest distance value to register W
0265   00B2           00801         MOVWF Num2                      ; move the new value to Num2
                      00802 
0266   0844           00803         MOVF sensor1, W                 ; move highest sensor number to register W
0267   00C5           00804         MOVWF sensor2                   ; move W to second highest distance sensor number
                      00805 
                      00806         ; finally, shift the new value to the first value
0268   080E           00807         MOVF TMR1L, W                   ; move time1 value to register W
0269   00B1           00808         MOVWF Num1                      ; move the new value to Num1 as the highest distance
                      00809 
026A   0843           00810         MOVF sensor, W                  ; move current sensor number to register W
026B   00C4           00811         MOVWF sensor1                   ; move current sensor number as the highest one
                      00812 
026C   0008           00813         RETURN
                      00814 
026D                  00815 check_second:
026D   0832           00816         MOVF Num2, W
026E   020E           00817         SUBWF TMR1L,W
026F   1C03           00818         BTFSS   STATUS, C
0270   2A7E           00819         GOTO check_third                        ; if it is less than the second, check with the third
                      00820         
                      00821         ; TMR1 is greater then, do shift
                      00822         ; first, shift third number to fourth number
0271   0833           00823         MOVF Num3, W                    ; move third number to register W
0272   00B4           00824         MOVWF Num4                      ; move third number to fourth number
                      00825 
0273   0846           00826         MOVF sensor3, W
0274   00C7           00827         MOVWF sensor4                   ; move senosr number with third highest to fourth highest
                      00828 
                      00829         ; second, shift second number to third number
0275   0832           00830         MOVF Num2, W                    ; move second number to register W
0276   00B3           00831         MOVWF Num3                      ; move decond number to third number
                      00832 
0277   0845           00833         MOVF sensor2, W
0278   00C6           00834         MOVWF sensor3                   ; move senosr number with decond highest to third highest
                      00835 
                      00836         ; finally, shift the new value to the second value
0279   080E           00837         MOVF TMR1L, W                   ; move time1 value to register W
027A   00B2           00838         MOVWF Num2                      ; move the new value to Num2 as the second highest distance
                      00839 
027B   0843           00840         MOVF sensor, W                  ; move current sensor number to register W
027C   00C5           00841         MOVWF sensor2                   ; move current sensor number as the srcond highest one
                      00842 
027D   0008           00843         RETURN
                      00844 
027E                  00845 check_third:
027E   0833           00846         MOVF Num3, W
027F   020E           00847         SUBWF TMR1L,W
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0280   1C03           00848         BTFSS   STATUS, C
0281   2A8B           00849         GOTO check_fourth               ; if it is less than the third, check with the fourth
                      00850 
                      00851         ; TMR1 is greater then, do shift
                      00852         ; first, shift third number to fourth number
0282   0833           00853         MOVF Num3, W                    ; move third number to register W
0283   00B4           00854         MOVWF Num4                      ; move third number to fourth number
                      00855 
0284   0846           00856         MOVF sensor3, W
0285   00C7           00857         MOVWF sensor4                   ; move senosr number with third highest to fourth highest
                      00858 
                      00859         ; finally, shift the new value to the third value
0286   080E           00860         MOVF TMR1L, W                   ; move time1 value to register W
0287   00B3           00861         MOVWF Num3                      ; move the new value to Num3 as the third highest distance
                      00862 
0288   0843           00863         MOVF sensor, W                  ; move current sensor number to register W
0289   00C6           00864         MOVWF sensor3                   ; move current sensor number as the third highest one
                      00865 
028A   0008           00866         RETURN
                      00867 
028B                  00868 check_fourth:
028B   0834           00869         MOVF Num4, W
028C   020E           00870         SUBWF TMR1L,W
028D   1C03           00871         BTFSS   STATUS, C
028E   0008           00872         RETURN                                  ; if it is less than the fourth, do nothing
                      00873         
                      00874         ; TMR1 is greater then, do shift
028F   080E           00875         MOVF TMR1L, W                   ; move time1 value to register W
0290   00B4           00876         MOVWF Num4                      ; move the new value to Num4 as the fourth highest distance
                      00877 
0291   0843           00878         MOVF sensor, W                  ; move current sensor number to register W
0292   00C7           00879         MOVWF sensor4                   ; move current sensor number as the fourth highest one
0293   0008           00880         RETURN
                      00881 
0294                  00882 print_distances:
                      00883         ; check if the highest value is zero or not
0294   0831           00884         MOVF Num1, W
0295   1903           00885         BTFSC STATUS, Z         ; test if zero flag is set and skip if not zero
0296   0008           00886         RETURN                          ; if zero, do not print anything
                      00887 
                      00888         ; if it is not zero print Num1, sensor 1
0297   2AA5           00889         GOTO print_num1_sensor1
0298                  00890 return1:        
                      00891         ; check if Num2 equals zero or not
0298   0832           00892         MOVF Num2, W
0299   1903           00893         BTFSC STATUS, Z         ; test if zero flag is set and skip if not zero
029A   0008           00894         RETURN                          ; if zero, do not print anything
                      00895 
                      00896         ; if it is not zero print Num2, sensor 2
029B   2ABD           00897         GOTO print_num2_sensor2
029C                  00898 return2:
                      00899         ; check if Num3 equals zero or not
029C   0833           00900         MOVF Num3, W
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

029D   1903           00901         BTFSC STATUS, Z         ; test if zero flag is set and skip if not zero
029E   0008           00902         RETURN                          ; if zero, do not print anything
                      00903 
                      00904         ; if it is not zero print Num3, sensor 3
029F   2ADB           00905         GOTO print_num3_sensor3
                      00906 
02A0                  00907 return3:
                      00908         ; check if Num4 equals zero or not
02A0   0834           00909         MOVF Num4, W
02A1   1903           00910         BTFSC STATUS, Z         ; test if zero flag is set and skip if not zero
02A2   0008           00911         RETURN                          ; if zero, do not print anything
                      00912 
                      00913         ; if it is not zero print Num4, sensor 4
02A3   2AF6           00914         GOTO print_num4_sensor4
02A4                  00915 return4:
02A4   0008           00916         RETURN
                      00917 
02A5                  00918 print_num1_sensor1:
02A5   1283 1303      00919         BANKSEL PORTD
                      00920 
02A7   14F4           00921         BSF Select, RS                  ; Select command mode
02A8   3055           00922         movlw 'U'                       ; move letter 'U' to register w
02A9   210B           00923         call send                               ; and send code
                      00924 
02AA   0844           00925         MOVF sensor1, W         ; print sensor number
02AB   00B5           00926         MOVWF Temp
02AC   21D7           00927         CALL print_tens         ; print the tens digit
                      00928 
02AD   0844           00929         MOVF sensor1, W
02AE   00B5           00930         MOVWF Temp
02AF   21C3           00931         CALL print_ones         ; prints the ones digit
                      00932 
02B0   14F4           00933         BSF Select, RS                  ; Select command mode
02B1   303A           00934         movlw ':'                               ; move letter ':' to register w
02B2   210B           00935         call send                               ; and send code
                      00936 
                      00937         ; now print the distance value in Num1
                      00938         ;MOVLW D'227'
02B3   0831           00939         MOVF Num1,W
02B4   00B5           00940         MOVWF Temp
02B5   21F3           00941         CALL print_hunds
                      00942 
                      00943         ;MOVLW D'227'
02B6   0831           00944         MOVF Num1,W
02B7   00B5           00945         MOVWF Temp
02B8   21D7           00946         CALL print_tens
                      00947 
                      00948         ;MOVLW D'227'
02B9   0831           00949         MOVF Num1,W
02BA   00B5           00950         MOVWF Temp
02BB   21C3           00951         CALL print_ones
02BC   2A98           00952         GOTO return1
                      00953 
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02BD                  00954 print_num2_sensor2:
02BD   1283 1303      00955         BANKSEL PORTD
                      00956 
02BF   14F4           00957         BSF Select, RS                  ; Select command mode
02C0   3020           00958         movlw ' '                               ; move letter space to register w
02C1   210B           00959         call send                               ; and send code
                      00960 
02C2   14F4           00961         BSF Select, RS                  ; Select command mode
02C3   3020           00962         movlw ' '                               ; move letter space to register w
02C4   210B           00963         call send                               ; and send code
                      00964 
02C5   14F4           00965         BSF Select, RS                  ; Select command mode
02C6   3055           00966         movlw 'U'                       ; move letter 'U' to register w
02C7   210B           00967         call send                               ; and send code
                      00968 
02C8   0845           00969         MOVF sensor2, W         ; print sensor number
02C9   00B5           00970         MOVWF Temp
02CA   21D7           00971         CALL print_tens         ; print the tens digit
                      00972 
02CB   0845           00973         MOVF sensor2, W
02CC   00B5           00974         MOVWF Temp
02CD   21C3           00975         CALL print_ones         ; prints the ones digit
                      00976 
02CE   14F4           00977         BSF Select, RS                  ; Select command mode
02CF   303A           00978         movlw ':'                               ; move letter ':' to register w
02D0   210B           00979         call send                               ; and send code
                      00980 
                      00981         ; now print the distance value in Num1
                      00982         ;MOVLW D'227'
02D1   0832           00983         MOVF Num2,W
02D2   00B5           00984         MOVWF Temp
02D3   21F3           00985         CALL print_hunds
                      00986 
                      00987         ;MOVLW D'227'
02D4   0832           00988         MOVF Num2,W
02D5   00B5           00989         MOVWF Temp
02D6   21D7           00990         CALL print_tens
                      00991 
                      00992         ;MOVLW D'227'
02D7   0832           00993         MOVF Num2,W
02D8   00B5           00994         MOVWF Temp
02D9   21C3           00995         CALL print_ones
02DA   2A9C           00996         GOTO return2
                      00997 
02DB                  00998 print_num3_sensor3:
02DB   1283 1303      00999         BANKSEL PORTD
                      01000 
02DD   30C0           01001         MOVLW   0xC0            ; position to second row
02DE   10F4           01002         BCF     Select,RS                       ; Select command mode
02DF   210B           01003         CALL    send                    ; and send code
                      01004 
02E0   14F4           01005         BSF Select, RS                  ; Select command mode
02E1   3055           01006         movlw 'U'                       ; move letter 'U' to register w
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02E2   210B           01007         call send                               ; and send code
                      01008 
02E3   0846           01009         MOVF sensor3, W         ; print sensor number
02E4   00B5           01010         MOVWF Temp
02E5   21D7           01011         CALL print_tens         ; print the tens digit
                      01012 
02E6   0846           01013         MOVF sensor3, W
02E7   00B5           01014         MOVWF Temp
02E8   21C3           01015         CALL print_ones         ; prints the ones digit
                      01016 
02E9   14F4           01017         BSF Select, RS                  ; Select command mode
02EA   303A           01018         movlw ':'                               ; move letter ':' to register w
02EB   210B           01019         call send                               ; and send code
                      01020 
                      01021         ; now print the distance value in Num1
                      01022         ;MOVLW D'227'
02EC   0833           01023         MOVF Num3,W
02ED   00B5           01024         MOVWF Temp
02EE   21F3           01025         CALL print_hunds
                      01026 
                      01027         ;MOVLW D'227'
02EF   0833           01028         MOVF Num3,W
02F0   00B5           01029         MOVWF Temp
02F1   21D7           01030         CALL print_tens
                      01031 
                      01032         ;MOVLW D'227'
02F2   0833           01033         MOVF Num3,W
02F3   00B5           01034         MOVWF Temp
02F4   21C3           01035         CALL print_ones
02F5   2AA0           01036         GOTO return3
                      01037 
02F6                  01038 print_num4_sensor4:
02F6   1283 1303      01039         BANKSEL PORTD
                      01040 
02F8   14F4           01041         BSF Select, RS                  ; Select command mode
02F9   3020           01042         movlw ' '                               ; move letter space to register w
02FA   210B           01043         call send                               ; and send code
                      01044 
02FB   14F4           01045         BSF Select, RS                  ; Select command mode
02FC   3020           01046         movlw ' '                               ; move letter space to register w
02FD   210B           01047         call send                               ; and send code
                      01048 
02FE   14F4           01049         BSF Select, RS                  ; Select command mode
02FF   3055           01050         movlw 'U'                       ; move letter 'U' to register w
0300   210B           01051         call send                               ; and send code
                      01052 
0301   0847           01053         MOVF sensor4, W         ; print sensor number
0302   00B5           01054         MOVWF Temp
0303   21D7           01055         CALL print_tens         ; print the tens digit
                      01056 
0304   0847           01057         MOVF sensor4, W
0305   00B5           01058         MOVWF Temp
0306   21C3           01059         CALL print_ones         ; prints the ones digit
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01060 
0307   14F4           01061         BSF Select, RS                  ; Select command mode
0308   303A           01062         movlw ':'                               ; move letter ':' to register w
0309   210B           01063         call send                               ; and send code
                      01064 
                      01065         ; now print the distance value in Num1
                      01066         ;MOVLW D'227'
030A   0834           01067         MOVF Num4,W
030B   00B5           01068         MOVWF Temp
030C   21F3           01069         CALL print_hunds
                      01070 
                      01071         ;MOVLW D'227'
030D   0834           01072         MOVF Num4,W
030E   00B5           01073         MOVWF Temp
030F   21D7           01074         CALL print_tens
                      01075 
                      01076         ;MOVLW D'227'
0310   0834           01077         MOVF Num4,W
0311   00B5           01078         MOVWF Temp
0312   21C3           01079         CALL print_ones
                      01080 
                      01081         ; make some delay for better vision on the LCD
Warning[202]: Argument out of range.  Least significant bits used.
0313   3000           01082         MOVLW 100                       ; move 100 to register w
0314   2101           01083         CALL xms
0315   2AA4           01084         GOTO return4
                      01085 
                      01086         END     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
Blinks                            00000036
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DIV_LOOP_HUNDS                    000001F5
DIV_LOOP_ONES                     000001C3
DIV_LOOP_TENS                     000001D9
D_A                               00000005
D_NOT_A                           00000005
Delay_10us_loop                   000001BC
E                                 00000002
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
Num1                              00000031
Num2                              00000032
Num3                              00000033
Num4                              00000034
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
OutCod                            00000075
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

Point                             00000073
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RS                                00000001
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
Select                            00000074
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Temp                              00000035
TempH                             00000037
TempL                             00000038
Timer1                            00000070
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

TimerX                            00000071
UA                                00000001
Var                               00000072
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           1
check_400                         00000252
check_fourth                      0000028B
check_highest                     00000258
check_second                      0000026D
check_third                       0000027E
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

check_valid_range                 0000024D
clear                             000001B2
continue                          000001DF
counter                           00000040
delay_10us                        000001BB
delay_2us                         000001B8
displayBlinks                     00000136
hund                              00000030
index                             00000048
inid                              0000011B
loop                              00000030
loop1                             000000FD
loopX                             00000102
loop_blink                        0000013A
more_than_16_shifts               0000020B
mul_1114                          0000021B
onems                             000000FB
print_dist_highest                000001C0
print_distances                   00000294
print_hunds                       000001F3
print_num1_sensor1                000002A5
print_num2_sensor2                000002BD
print_num3_sensor3                000002DB
print_num4_sensor4                000002F6
print_ones                        000001C3
print_reset                       00000183
print_tens                        000001D7
print_zero                        000001EF
pulseE                            00000106
read_echo1                        0000005B
read_echo2                        00000090
read_echo3                        000000C5
read_loop1                        00000063
read_loop2                        0000009A
read_loop3                        000000CF
resH                              00000041
resL                              00000042
return1                           00000298
return2                           0000029C
return3                           000002A0
return4                           000002A4
send                              0000010B
sensor                            00000043
sensor1                           00000044
sensor2                           00000045
sensor3                           00000046
sensor4                           00000047
shift_left_loop                   00000216
shift_left_nbits                  00000212
shift_right_loop                  00000206
shift_right_loop_after_16         0000020E
shift_right_nbits                 00000202
start                             00000023
MPASM  5.43                          MAIN.ASM   7-10-2024  18:00:02         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

stop_hunds                        000001FD
stop_ones                         000001D2
stop_tens                         000001E9
ten                               00000039
wait_echo_high1                   0000006A
wait_echo_high2                   000000A1
wait_echo_high3                   000000D6
wait_echo_low1                    00000073
wait_echo_low2                    000000AA
wait_echo_low3                    000000DF
xms                               00000101


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXX---------- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   790
Program Memory Words Free:  7402


Errors   :     0
Warnings :    12 reported,     0 suppressed
Messages :    28 reported,     0 suppressed

